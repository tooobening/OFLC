"use strict";(self.webpackChunkreactjs=self.webpackChunkreactjs||[]).push([[9025],{21728:function(e,t){t.A={screenReaderOnly:"Y1yRPa6C3OsT8vRFScfj"}},55076:function(e,t,n){n.d(t,{Q:function(){return p},A:function(){return f}});var a=n(41481),r=n(81713),l=n.n(r),o=n(64516),s=n.n(o),i=n(23706),c=n(29894),u=n(94398);function d(e){let{children:t,className:n,icon:r,variant:l,iconTooltip:o}=e;const i=s()(["rods-chip",l?`rods-chip--${l}`:"",n]),d=s()("rods-chip__icon",t&&"rods-chip__icon--with-text"),m=r&&o?a.createElement(u.A,{content:o},(e=>a.createElement("span",(0,c.A)({},e,{className:d}),r))):a.createElement("span",{className:d},r);return a.createElement("span",{className:i},r&&m,t)}const m={beta:(0,i.y$)("Beta"),soon:(0,i.y$)("Soon",null,"release-status"),new:(0,i.y$)("New")};function p(e){let{variant:t,className:n}=e;const{i18n:r}=(0,a.useContext)(i.gJ),l=s()(["rods-release-status-chip",`rods-release-status-chip--${t}`,n]);return a.createElement(d,{className:l},r.translate(m[t]))}p.propTypes={variant:l().oneOf(["beta","soon","new"]),className:l().string},p.defaultProps={variant:"beta",className:null};var f=d},22283:function(e,t,n){var a=n(41481),r=n(81713),l=n.n(r),o=n(93360),s=n(24817),i=n(23706);function c(e){const{i18n:t,id:n,type:r,title:l,message:i,stacktrace:c,onClose:u}=e,d=()=>u(n);let m;switch(r){case"success":m=s.Srz;break;case"warning":m=s._0O;break;default:m=s.Wz$}return a.createElement("div",{className:`rods-notification rods-notification--${r}`},l&&a.createElement("div",{className:"rods-notification__header"},a.createElement("div",{className:"rods-notification__title"},a.createElement(m,{className:"rods-notification__title-icon"}),a.createElement("span",null,t.translate(l))),a.createElement(o.K0,{className:"rods-notification__header-close",onClick:d,size:"100"},a.createElement(s.USm,null))),i&&a.createElement("div",{className:"rods-notification__message"},l?null:a.createElement(m,{className:"rods-notification__message-icon"}),a.createElement("div",{className:"rods-notification__message-text"},t.translate(i)),l?null:a.createElement(o.K0,{className:"rods-notification__message-close",onClick:d,size:"100"},a.createElement(s.USm,null))),c&&a.createElement("pre",{className:"rods-notification__stacktrace",role:"alert"},c))}c.propTypes={id:l().number.isRequired,title:l().string,message:l().string,stacktrace:l().string,onClose:l().func.isRequired,type:l().oneOf(["error","success","info","quota","warning"]),i18n:l().shape({translate:l().func.isRequired}).isRequired},c.defaultProps={title:null,type:"error",message:null,stacktrace:null},t.A=(0,i.zn)(c)},12666:function(e,t,n){var a=n(29894),r=n(41481),l=n(81713),o=n.n(l),s=n(77981),i=n(67221),c=n(25203),u=n(22283);function d(e){let{notifications:t,removeNotification:n,clearNotifications:l}=e;const o=(0,r.useCallback)((e=>{e.defaultPrevented||(e.preventDefault(),l())}),[l]),s=(0,r.useCallback)((e=>r.createElement(u.A,(0,a.A)({},e,{key:e.id,onClose:n}))),[n]),i=(0,r.useMemo)((()=>t.filter((e=>"top"===e.position)).map(s)),[s,t]),d=(0,r.useMemo)((()=>t.filter((e=>"bottom"===e.position)).map(s)),[s,t]);return 0===t.length?null:r.createElement("div",{className:"rods-notifications"},r.createElement(c.A,{stopCallback:!1,shortcuts:[{shortcut:"esc",handler:o}]}),!!i.length&&r.createElement("div",{className:"rods-notifications__top-container"},i),!!d.length&&r.createElement("div",{className:"rods-notifications__bottom-container"},d))}d.propTypes={notifications:o().arrayOf(o().shape({id:o().number.isRequired,title:o().string,message:o().string,stacktrace:o().string,type:o().oneOf(["error","success","info","quota","warning"]),position:o().oneOf(["top","bottom"])})),removeNotification:o().func.isRequired,clearNotifications:o().func.isRequired},d.defaultProps={notifications:[]},t.Ay=(0,s.Ng)((e=>({notifications:e.notifications.notifications})),(e=>({removeNotification:function(){e((0,i.ww)(...arguments))},clearNotifications:function(){e((0,i.SP)(...arguments))}})))(d)},656:function(e,t,n){var a=n(12666);t.A=a.Ay},45497:function(e,t,n){n.d(t,{BH:function(){return l},Bs:function(){return f},FE:function(){return C},FX:function(){return p},K4:function(){return c},LI:function(){return N},Pt:function(){return y},RQ:function(){return E},Um:function(){return b},Vj:function(){return r},XD:function(){return o},bz:function(){return s},hL:function(){return d},iv:function(){return _},l1:function(){return m},oC:function(){return u},ph:function(){return g},w7:function(){return h},z7:function(){return i}});var a=n(23706);const r={Simple:"simple",Comparison:"comparison",Ratio:"ratio"},l={Choropleth:{Local:"choropleth.local",Georef:"choropleth.georef"},Poi:"poi"},o={TimeSeries:{Lines:"timeSeries.lines",Areas:"timeSeries.areas"},Comparison:{Bars:"comparison.bars",Columns:"comparison.columns",Radar:"comparison.radar"},Composition:{Pie:"composition.pie",Doughnut:"composition.doughnut"}},s={NONE:"",ASC:"asc",DESC:"desc"},i={CONTAINS:"contains",NOT_CONTAINS:"not_contains",EMPTY:"empty",NOT_EMPTY:"not_empty",SUPERIOR_TO:">",INFERIOR_TO:"<",EQUAL:"=",NOT_EQUAL:"!=",SUPERIOR_EQUAL:">=",INFERIOR_EQUAL:"<=",PRIOR_TO:"prior",POST_TO:"post",PRIOR_EQUAL:"prior_or_equal",POST_EQUAL:"post_or_equal"},c={TEXT:"text",DATE:"date",DATETIME:"datetime",NUMBER:"number"},u=(c.TEXT,i.CONTAINS,i.NOT_CONTAINS,i.EQUAL,i.NOT_EQUAL,i.EMPTY,i.NOT_EMPTY,c.NUMBER,i.SUPERIOR_TO,i.INFERIOR_TO,i.EQUAL,i.NOT_EQUAL,i.SUPERIOR_EQUAL,i.INFERIOR_EQUAL,i.EMPTY,i.NOT_EMPTY,c.DATE,i.PRIOR_TO,i.POST_TO,i.EQUAL,i.NOT_EQUAL,i.POST_EQUAL,i.PRIOR_EQUAL,i.EMPTY,i.NOT_EMPTY,c.DATETIME,i.PRIOR_TO,i.POST_TO,i.EQUAL,i.NOT_EQUAL,i.POST_EQUAL,i.PRIOR_EQUAL,i.EMPTY,i.NOT_EMPTY,{avg:{acceptOnlyNumeric:!0,aggFieldRequired:!0},count:{acceptOnlyNumeric:!1,aggFieldRequired:!1},count_distinct:{acceptOnlyNumeric:!1,aggFieldRequired:!0},median:{acceptOnlyNumeric:!0,aggFieldRequired:!0},min:{acceptOnlyNumeric:!0,aggFieldRequired:!0},max:{acceptOnlyNumeric:!0,aggFieldRequired:!0},sum:{acceptOnlyNumeric:!0,aggFieldRequired:!0},custom:{acceptOnlyNumeric:!1,aggFieldRequired:!1}}),d={Difference:"difference",PercentageChange:"percentage_change"},m={Normal:"normal",Reversed:"reversed"},p=(0,a.y$)("Chart title"),f=(0,a.y$)("Chart subtitle"),y=(0,a.y$)("Horizontal axis"),g=(0,a.y$)("Vertical axis"),E=((0,a.y$)("Sectors"),(0,a.y$)("Categories"),(0,a.y$)("Values"),(0,a.y$)("KPI title")),h=(0,a.y$)("KPI context"),C=(0,a.y$)("Map title"),N=(0,a.y$)("Map subtitle"),_=(0,a.y$)("Map legend"),b="series_"},63451:function(e,t,n){n.d(t,{$0:function(){return r.s},$D:function(){return r.$},Ds:function(){return a.D},G_:function(){return l.A},ah:function(){return a.a}});var a=n(68098),r=n(84477),l=n(1312)},68098:function(e,t,n){n.d(t,{D:function(){return s},a:function(){return l}});var a=n(41481);const r=(0,a.createContext)(null);function l(e){let{children:t}=e;const[n,l]=(0,a.useState)(null),[o,s]=(0,a.useState)(null),[i,c]=(0,a.useState)(null),u=(0,a.useMemo)((()=>({where:n,refine:o,facet:i,setWhere:l,setRefine:s,setFacet:c})),[n,o,i,l,s,c]);return a.createElement(r.Provider,{value:u},t)}r.displayName="OutsideFilterValuesContext";const o=()=>{};function s(){const e=(0,a.useContext)(r),t=(0,a.useMemo)((()=>({where:null,refine:null,facet:null,setWhere:o,setRefine:o,setFacet:o})),[]);return e||t}},17960:function(e,t,n){n.d(t,{$0:function(){return a.$0},$D:function(){return a.$D},Ds:function(){return a.Ds},G_:function(){return a.G_},RJ:function(){return r.R},ah:function(){return a.ah}}),n(28836),n(95851),n(61855),n(19645),n(46601);var a=n(63451),r=n(32273);n(19266),n(78464)},74983:function(e,t,n){n.d(t,{E:function(){return l},LF:function(){return o},f1:function(){return i},n1:function(){return s}});var a=n(26313),r=n(76249);function l(e){if("world"===e)return{country:"world",level:"10"};const[t,n,a]=e.split("_");var r;return{country:"gb"===(r="world"===t?n:t)?"uk":r,level:"world"===t?"20":n,code:a}}function o(e,t,n){if("world"===t)return e[t][n];const{country:a}=l(t);return e.countries[a][n]}function s(e){if("MultiPolygon"!==e.type)return e;const[t,n]=e.coordinates.reduce(((e,t)=>{const n={type:"Polygon",coordinates:t},r=(0,a.A)(n);return!e[1]||e[1]<r?[n,r]:e}),[null,null]);return t}function i(e,t){return(0,r.A)(e,t)?.geometry}},74711:function(e,t,n){n.d(t,{$$:function(){return o},P:function(){return s},YF:function(){return r}});var a=n(29193);const r={TitleOnly:"title_only",TitleAndSearch:"title_and_search"};t.Ay=r;const l={[r.TitleOnly]:{[a.Xn]:!0},[r.TitleAndSearch]:{[a.Xn]:!0,[a.Qe]:!0}},o=e=>!!e&&Object.values(r).includes(e),s=e=>a.Qe in l[e]},79259:function(e,t,n){var a=n(60546),r=n(45497);const l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(t){case r.K4.DATE:return(0,a.RD)(e);case r.K4.DATETIME:return(0,a.KQ)(new Date(e));case r.K4.NUMBER:return e;case r.K4.TEXT:return n?e:(0,a.Yj)(e);default:return(0,a.Yj)(e)}},o=(e,t)=>(n,r)=>`${(0,a.ZZ)(n)} ${e} ${l(r,t)}`,s=e=>(t,n)=>(0,a.o1)(l(n,e,!0),[t]),i=e=>t=>e?`${(0,a.ZZ)(t)} IS NOT NULL`:`${(0,a.ZZ)(t)} IS NULL`;t.A=function(e){return e.reduce(((e,t,n)=>{let l;switch(t.operation){case r.z7.PRIOR_TO:case r.z7.INFERIOR_TO:l=o("<",t.type);break;case r.z7.POST_TO:case r.z7.SUPERIOR_TO:l=o(">",t.type);break;case r.z7.PRIOR_EQUAL:case r.z7.INFERIOR_EQUAL:l=o("<=",t.type);break;case r.z7.POST_EQUAL:case r.z7.SUPERIOR_EQUAL:l=o(">=",t.type);break;case r.z7.CONTAINS:l=s(t.type);break;case r.z7.NOT_CONTAINS:l=(e=>function(){return`NOT ${e(...arguments)}`})(s(t.type));break;case r.z7.EMPTY:l=i(!1);break;case r.z7.NOT_EMPTY:l=i(!0);break;case r.z7.NOT_EQUAL:l=o("!=",t.type);break;case r.z7.EQUAL:default:l=o("=",t.type)}const{field:c,values:u}=t,d=c&&`(${(0,a.xH)(...u.map((e=>l(c,e))))})`;if(0===n)return d;switch(t.connector){case"and":return d?`${e} AND ${d}`:e;case"or":return d?`${e} OR ${d}`:e;default:throw new Error(`Invalid logical connector '${t.connector}' between ${e} and ${d}`)}}),"")}},50930:function(e,t,n){n.d(t,{A:function(){return p}});var a=n(29894),r=n(41481),l=n(81713),o=n.n(l),s=n(64516),i=n.n(s),c=n(93360),u=n(24817),d=n(23249);const m=r.forwardRef(((e,t)=>{let{type:n,className:l,onChange:o,isInvalid:s,tag:m,suffix:p,prefix:f,isLoading:y,onClear:g,value:E,trimOnBlur:h,onBlur:C,...N}=e;const _=i()(["rods-form-control",{"is-invalid":s},l]),b=m,v=e=>{o&&o(e.target.value,e)},A=e=>{h&&e.target.value.trim()!==e.target.value&&o(e.target.value.trim(),e),C&&C(e)},k=()=>r.createElement(b,(0,a.A)({ref:t,type:"input"===m?n:void 0,className:_,onChange:v,onBlur:A,value:E},N));return p||f||"boolean"==typeof y||g?r.createElement("div",{className:"text-input__wrapper"},f?r.createElement("span",{className:"text-input__icon"},f):null,k(),(()=>{let e;if(y)e=r.createElement(d.A,null);else if(g&&E)e=r.createElement(c.K0,{onClick:g,size:"100"},r.createElement(u.USm,null));else{if(!p)return null;e=p}return r.createElement("span",{className:"text-input__icon"},e)})()):k()}));m.displayName="TextInput",m.propTypes={tag:o().oneOf(["input","textarea"]),type:o().string,isInvalid:o().bool,className:o().string,onChange:o().func,value:o().string,suffix:o().element,prefix:o().element,onClear:o().func,isLoading:o().bool,trimOnBlur:o().bool,onBlur:o().func},m.defaultProps={tag:"input",type:"text",isInvalid:!1,className:null,onChange:null,value:"",suffix:null,prefix:null,onClear:null,isLoading:null,trimOnBlur:!1,onBlur:null};var p=m},79653:function(e,t,n){var a=n(41481),r=n(43624),l=n(46558),o=n(656),s=n(41438),i=n(8904),c=n(58899),u=n(23706),d=n(35189),m=n(55076),p=n(8216),f=n(99693),y=n.n(f),g=n(42838),E=n.n(g),h=n(50173),C=n(45497),N=n(67221),_=n(50335),b=n(46073),v=n(9840),A=n(93360),k=n(24817);let O=function(e){return e.SetIsLoading="set_is_loading",e.SetError="set_error",e.SetPage="set_page",e.SetOdsqlFromPage="set_odsql_from_page",e.SetErrorsFromPage="set_errors_from_page",e.StartQuery="start_query",e.SetOdsqlAndConditions="set_odsql_and_conditions",e}({});const T={datasetId:"",isFirstSearch:!0,isLoading:!1,query:null,error:null,page:null,conditions:null,odsqlFromQuery:null,odsqlFromPage:null,errorsFromPage:null},w=(e,t)=>{switch(t.type){case O.StartQuery:return{...e,query:t.payload,error:null,page:null,conditions:null,odsqlFromQuery:null,odsqlFromPage:null,errorsFromPage:null,isFirstSearch:!1,isLoading:!0};case O.SetOdsqlAndConditions:return{...e,odsqlFromQuery:t.payload.odsql_query,conditions:t.payload.conditions};case O.SetIsLoading:return{...e,isLoading:t.payload};case O.SetError:return{...e,error:t.payload};case O.SetPage:return{...e,page:t.payload};case O.SetOdsqlFromPage:return{...e,odsqlFromPage:t.payload};case O.SetErrorsFromPage:return{...e,errorsFromPage:t.payload};default:return e}},R=(0,a.createContext)({state:T,dispatch:()=>null});function P(e){let{datasetId:t,children:n}=e;const[r,l]=(0,a.useReducer)(w,{...T,datasetId:t}),o=(0,a.useMemo)((()=>({state:r,dispatch:l})),[r]);return a.createElement(R.Provider,{value:o},n)}function q(){const{state:e,dispatch:t}=(0,a.useContext)(R),n=(0,a.useMemo)((()=>({startQuery(e){t({type:O.StartQuery,payload:e})},setOdsqlAndConditions(e,n){t({type:O.SetOdsqlAndConditions,payload:{odsql_query:e,conditions:n}})},setPage(e){t({type:O.SetPage,payload:e})},setLoading(e){t({type:O.SetIsLoading,payload:e})},setError(e){t({type:O.SetError,payload:e})},setOdsqlFromPage(e){t({type:O.SetOdsqlFromPage,payload:e})},setErrorsFromPage(e){t({type:O.SetErrorsFromPage,payload:e})}})),[t]);return(0,a.useMemo)((()=>({state:e,actions:n})),[e,n])}R.displayName="GeneratedVisualizationContext";const F=(0,a.createContext)({});function I(e){let{children:t}=e;const{state:{datasetId:n,query:r,isLoading:l,page:o,error:s,odsqlFromQuery:i,odsqlFromPage:c,errorsFromPage:u}}=q(),d=(0,a.useCallback)((e=>{let{hasAnswer:t}=e;(0,v.QH)(v.$0.VISUALIZATION_GENERATOR_QUERIED,{query:r,odsqlFromQuery:i,page:o,odsqlFromPage:c,error:s,errorsFromPage:u,hasAnswer:t,datasetId:n})}),[n,s,u,c,i,o,r]),m=(0,a.useCallback)((e=>{let{feedback:t,comment:a=null}=e;(0,v.QH)(v.$0.VISUALIZATION_GENERATOR_FEEDBACK,{query:r,odsqlFromQuery:i,page:o,odsqlFromPage:c,feedback:t,comment:a,datasetId:n})}),[n,c,i,o,r]),p=(0,a.useCallback)((e=>{let{type:t}=e;(0,v.QH)(v.$0.VISUALIZATION_GENERATOR_EXPORT,{query:r,odsqlFromQuery:i,page:o,odsqlFromPage:c,type:t,datasetId:n})}),[n,c,i,o,r]),f=(0,a.useMemo)((()=>u&&u.length>0||c&&c.length>0),[u,c]),y=!!s?.message;(0,a.useEffect)((()=>{!l&&r&&(y?d({error:s.message,hasAnswer:!0,odsqlFromQuery:i,odsqlFromPage:c}):f&&!y&&o?d({page:o,hasAnswer:!0,errorsFromPage:u,odsqlFromQuery:i,odsqlFromPage:c}):y||o||d({page:null,hasAnswer:!1}))}),[r,s,u,y,l,f,c,i,o,d]);const g=(0,a.useMemo)((()=>({trackExport:p,trackFeedback:m})),[p,m]);return a.createElement(F.Provider,{value:g},t)}F.displayName="TrackerContext";var S=()=>{const e=(0,a.useContext)(F);if(!e)throw new Error("useTracker must be used within a TrackerContextProvider");return e},L=n(50930),$="ulNIk6Obc6mAWqCYihJZ";const x=L.A;function M(e){let{isOpen:t,onClose:n}=e;const{i18n:r}=(0,a.useContext)(u.gJ),[l,o]=(0,a.useState)("");return a.createElement(d.Ay,{className:"rods-visualization-generator__feedback-modal",isOpen:t,closeButton:!0,onRequestClose:n,shouldCloseOnOverlayClick:!1},a.createElement(d.rQ,null,a.createElement(p.A,{translationKey:"Provide additional feedback"})),a.createElement(d.cw,null,a.createElement(x,{tag:"textarea",className:"lXaOuCtHujuRGVKPFIIx",value:l,onChange:o,placeholder:r.translate("What was the issue with the response? How could it be improved?"),"aria-label":r.translate("What was the issue with the response? How could it be improved?")}),a.createElement("div",{className:"Eh12NJU3f6F2cJPJzDtC"},a.createElement(A.Ay,{variant:"secondary",className:$,onClick:()=>n()},a.createElement(p.A,{translationKey:"No comment"})),a.createElement(A.Ay,{variant:"primary",className:$,onClick:()=>n(l)},a.createElement(p.A,{translationKey:"Submit feedback"})))))}var Q=function(){const{i18n:e}=(0,a.useContext)(u.gJ),t=(0,_.A)(N.z8),{trackFeedback:n}=S(),{state:{page:r,error:l,errorsFromPage:o,isLoading:s}}=q(),i=s||!!l?.message||o||!r,[c,m]=(0,b.A)(!1),[p,f]=(0,b.A)(!1),y=(0,a.useCallback)((()=>{n({feedback:"positive"}),t({type:"success",position:"bottom",message:e.translate("Thank you for your feedback!")}),f()}),[n,t,e,f]),g=(0,a.useCallback)((a=>{n({feedback:"negative",comment:a}),t({type:"success",position:"bottom",message:e.translate("Thank you for your feedback!")}),f(),m()}),[n,t,e,f,m]);return i||!v.Uh?null:a.createElement(d.jl,null,a.createElement("div",{className:"_c_tl8wVgpPJXEJEJUzm"},a.createElement("div",null,e.translate("Did you find what you were looking for?")),a.createElement(A.V3,{onClick:y,disabled:p,iconSide:"left",variant:"secondary",size:"100",icon:a.createElement(k.$U3,null)},e.translate("Yes, thank you")),a.createElement(A.V3,{onClick:m,disabled:p,iconSide:"left",variant:"secondary",size:"100",icon:a.createElement(k.EA2,null)},e.translate("No, not really"))),a.createElement(M,{isOpen:c,onClose:g}))},U=n(19692),K=n(21728),z=function(e){let{runQuery:t}=e;const{i18n:n}=(0,a.useContext)(u.gJ),[r,l]=(0,a.useState)(""),o=(0,a.useCallback)((e=>{e.preventDefault(),t(r)}),[t,r]);return a.createElement("div",{className:"MSqT_u4Z3jjO_xlLiriF"},a.createElement("form",{onSubmit:o},a.createElement(U.A,{label:n.translate("What do you need to know about this dataset?"),placeholder:n.translate("How many records in this dataset?"),value:r,onChange:l,onClear:()=>l(""),autoFocus:!0}),a.createElement("button",{type:"submit","aria-hidden":"false",className:K.A.screenReaderOnly},a.createElement(p.A,{translationKey:"Submit"}))))},V=n(90590),D=n(46841),H=n(29894),Z=n(74837),Y=n(64516),B=n.n(Y),G=n(22392),X=n(94398),J="ajJ8tO9BTnwO4V9KxUq3",j="S4TYnsGeX1eNGaH7M92x",W="Vp3UauZfokSMlPPdVFlW";const ee={"=":(0,u.y$)("equal to"),"!=":(0,u.y$)("not equal to"),">":(0,u.y$)("superior to"),">=":(0,u.y$)("superior or equal to"),"<":(0,u.y$)("inferior to"),"<=":(0,u.y$)("inferior or equal to"),post:(0,u.y$)("after"),post_or_equal:(0,u.y$)("after or equal to"),prior:(0,u.y$)("before"),prior_or_equal:(0,u.y$)("before or equal to"),contains:(0,u.y$)("contains"),not_contains:(0,u.y$)("does not contain"),empty:(0,u.y$)("is empty"),not_empty:(0,u.y$)("is not empty")},te={avg:(0,u.y$)("average"),count:(0,u.y$)("count records"),median:(0,u.y$)("median"),min:(0,u.y$)("minimum"),max:(0,u.y$)("maximum"),sum:(0,u.y$)("sum"),count_distinct:(0,u.y$)("count distinct values"),custom:(0,u.y$)("custom")},ne={desc:(0,u.y$)("Descending"),asc:(0,u.y$)("Ascending")};var ae=function(){const{i18n:e}=(0,a.useContext)(u.gJ),{state:{datasetId:t,conditions:n,page:r}}=q(),l=r?.blocks?.block_llm,{dataset:o}=(0,Z.d5)({datasetId:t,language:e.shortLanguageCode}),[s,i]=(0,b.A)(!1),c=(0,a.useMemo)((()=>{if(l?.type===h._.Map&&"poi"===l?.configuration.mapType){const e=l?.configuration?.parameters?.layers?.mapLayer_001?.query?.field,t=o?.fields.find((t=>t.name===e))?.type;return t&&"geo_point_2d"!==t}return!1}),[l,o]),d=(0,a.useMemo)((()=>{if(!l||!o||!n?.length)return null;let t=[];const r=[];n.forEach(((e,a)=>{t.length&&"or"===e.connector&&(r.push(t),t=[]),t.push(e),a!==n.length-1&&"or"!==n[a+1]?.connector||(r.push(t),t=[])}));const s=r.map(((t,n)=>a.createElement("li",{key:`condition-group-${n}`},t.map(((t,n)=>a.createElement("span",{key:`condition-${n}`},!!n&&e.translate("and",{},"condition's connector")," ",a.createElement("span",{className:W},(0,G.lu)(o,t.field))," ",a.createElement("span",{className:"VjtQIm_G2QWU5kraNKsh"},e.translate(ee[t.operation]))," ",a.createElement("span",{className:W},t.values[0]),!!t.values[0]&&" "))))));return r.length>1?a.createElement("div",{className:"KSnAKMjdID6JlzYezYYr"},a.createElement(p.A,{translationKey:"One of the following conditions is true:"}),a.createElement("ul",{className:j},s)):a.createElement("ul",null,s)}),[l,n,o,e]),m=(0,a.useMemo)((()=>{if(!l||!o)return null;switch(l.type){case h._.Kpi:{const{configuration:t}=l,{kpiType:n}=t;if("simple"!==n)return null;const r=t.parameters?.query,s=r?.yFunction,i=r?.yField;return a.createElement(a.Fragment,null,a.createElement(p.A,{translationKey:"This indicator was created with"}),a.createElement("ul",{className:j},a.createElement("li",null,a.createElement(p.A,{translationKey:"Aggregated value:"})," ",s&&e.translate(te[s])," ",i&&a.createElement("span",{className:W},(0,G.lu)(o,i))),d&&a.createElement("li",null,a.createElement(p.A,{translationKey:"Filters:"})," ",d)))}case h._.Map:{const{configuration:t}=l,{mapType:n}=t;if("poi"!==n)return null;const r=t.parameters?.layers.mapLayer_001,{query:s,popup:i}=r,{field:u}=s,{titleField:m,imageField:f,contextFields:y}=i,g=m||f||y&&y?.length>0;return a.createElement(a.Fragment,null,a.createElement(p.A,{translationKey:"This map was created with"}),a.createElement("ul",{className:j},a.createElement("li",null,a.createElement(p.A,{translationKey:"Points from the field:"})," ",a.createElement("span",{className:B()(W,{[J]:c})},(0,G.lu)(o,u)),c&&a.createElement(X.A,{content:e.translate("The selected field cannot display points because\n                                       it is not a geographic field.")},(e=>a.createElement("span",(0,H.A)({},e,{className:J})," ",a.createElement(k.Wz$,null))))),d&&a.createElement("li",null,a.createElement(p.A,{translationKey:"Filters:"})," ",d),g&&a.createElement("li",null,a.createElement(p.A,{translationKey:"Tooltip:"}),a.createElement("ul",null,m&&a.createElement("li",null,a.createElement(p.A,{translationKey:"Title Field:"}),a.createElement("span",{className:W}," ",(0,G.lu)(o,m))),f&&a.createElement("li",null,a.createElement(p.A,{translationKey:"Image Field:"}),a.createElement("span",{className:W}," ",(0,G.lu)(o,f))),y&&y.length>0&&y.map((e=>a.createElement("li",{key:e.field},a.createElement(p.A,{translationKey:"Context Field:"}),a.createElement("span",{className:W}," ",(0,G.lu)(o,e.field)))))))))}case h._.Chart:{const{configuration:t}=l,{chartType:n}=t,r="timeSeries.lines"===n;if("comparison.columns"!==n&&!r)return null;const s=t.parameters?.query,{seriesUIDs:i}=t,c=i?.map((e=>t?.parameters?.query?.series?.[e])),u=s?.xField,m=s?.order,f=r?u:c?.[0]?.yField||"",{limit:y}=s;return a.createElement(a.Fragment,null,a.createElement(p.A,{translationKey:"This chart was created with"}),a.createElement("ul",{className:j},a.createElement("li",null,a.createElement(p.A,{translationKey:"Categories:"}),a.createElement("span",{className:W}," ",u&&(0,G.lu)(o,u))),a.createElement("li",null,a.createElement(p.A,{translationKey:"Values:"})," ",c&&1===c?.length?a.createElement("span",null,c[0]?.yFunction&&e.translate(te[c[0]?.yFunction])," ",c[0]?.yField&&a.createElement("span",{className:W},(0,G.lu)(o,c[0]?.yField))):a.createElement("ul",null,c&&c.length>0&&c.map(((t,n)=>a.createElement("li",{key:t?.yField},a.createElement(p.A,{translationKey:"Serie"})," ",n+1,": ",t?.yFunction&&e.translate(te[t?.yFunction]),a.createElement("span",{className:W}," ",t?.yField&&(0,G.lu)(o,t?.yField))))))),d&&a.createElement("li",null,a.createElement(p.A,{translationKey:"Filters:"})," ",d),m?.direction&&f&&a.createElement("li",null,e.translate(ne[m.direction])," ",a.createElement(p.A,{translationKey:"sort on"}),a.createElement("span",{className:W}," ",(0,G.lu)(o,f))),y&&a.createElement("li",null,a.createElement(p.A,{translationKey:"Limit:"})," ",y)))}default:return null}}),[l,o,d,e,c]);return m?a.createElement(a.Fragment,null,a.createElement("div",{className:"hNbX2IgNhRb_0TLP2NNB"},c&&a.createElement(V.Ay,{initialOpen:!0,variant:"warning",className:"U_9fv4n98oFEJIznWKV4"},a.createElement(V.Ay.Header,null,a.createElement(p.A,{translationKey:"The map could not display data, the selected field is not a valid geographic field. Please open the section below for more details or try asking another question."}))),a.createElement("div",{className:"LI7tXFCieCTGSh2fs3VX"},a.createElement(A.V3,{icon:s?a.createElement(k.b3d,null):a.createElement(k.gQ,null),iconSide:"right",onClick:i},s?a.createElement(p.A,{translationKey:"Hide reasoning"}):a.createElement(p.A,{translationKey:"Show reasoning"})))),s&&a.createElement(a.Fragment,null,a.createElement("hr",{className:"n0qwUI2VbQPrmQEVQeik"}),a.createElement("div",{className:"lO1fc9AqNNtHTi_YtxKn"},m))):null},re="G7adyhgNzdcJuL3kovtQ",le="mRuvmRmsHrzDCYHZh03n",oe=n(81713),se=n.n(oe),ie=n(68399);function ce(e){let{validationSchema:t,onSubmit:n,onCancel:r,initialValues:l,children:o}=e;return a.createElement(ie.l1,{validationSchema:t,onSubmit:n,initialValues:l,validateOnMount:!0},(e=>{let{isValid:t,dirty:n}=e;return a.createElement(ie.lV,{className:"rods-button-form__popup rods-form"},a.createElement("div",{className:"rods-dropdown-button__form__body"},o),a.createElement("div",{className:"rods-dropdown-button__form__footer"},a.createElement(A.Ay,{variant:"secondary",onClick:r},a.createElement(p.A,{translationKey:"Cancel"})),a.createElement(A.Ay,{type:"submit",disabled:!t||!n},a.createElement(p.A,{translationKey:"Validate"}))))}))}ce.propTypes={children:se().oneOfType([se().node,se().arrayOf(se().node)]).isRequired,initialValues:se().shape({}).isRequired,onSubmit:se().func.isRequired,onCancel:se().func,validationSchema:se().shape({})},ce.defaultProps={validationSchema:null,onCancel:null};var ue=ce;function de(e){let{children:t,...n}=e;return a.createElement("div",{className:"rods-dropdown-menu__item"},a.createElement(A.SC,n,t))}function me(e){let{children:t}=e;return a.createElement("div",{className:"rods-dropdown-menu__content"},t)}function pe(e){let{children:t,closeMenu:n,autoClose:r}=e;return a.createElement("div",{className:"rods-dropdown-menu"},a.Children.map(t,(e=>r&&e.props?.onClick?a.cloneElement(e,{...e.props,onClick:()=>{e.props.onClick(),n()}}):e)))}de.propTypes={children:se().node.isRequired},me.propTypes={children:se().node.isRequired},pe.propTypes={children:se().node.isRequired,closeMenu:se().func,autoClose:se().bool},pe.defaultProps={autoClose:!0,closeMenu:()=>{}},pe.Item=de,pe.Content=me;var fe=pe;function ye(e){let{isOpen:t,toggle:n,children:r,label:l,icon:o,disabled:s,className:i,align:c,width:u,...d}=e;const m=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=e=>{const t=e.target.closest(".rods-modal"),a=!m.current||m.current.contains(e.target);t||a||n(e)};return t&&document.addEventListener("click",e,!0),()=>{document.removeEventListener("click",e,!0)}}),[n,t]);const p=(0,a.useCallback)((()=>{const e={className:"rods-dropdown-button__button",size:"100",onClick:n,disabled:s};return o&&l?a.createElement(A.V3,(0,H.A)({},e,{variant:"primary",icon:o},d),l):o?a.createElement(A.K0,(0,H.A)({},e,{variant:"tertiary"},d),o):a.createElement(A.Ay,(0,H.A)({},e,{variant:"secondary"},d),l)}),[s,o,l,d,n]),f={width:u};return a.createElement("div",{ref:m,className:B()(i,"rods-dropdown-button",{"rods-dropdown-button--opened":t&&!(o&&l),[`rods-dropdown-button--size-${d.size}`]:!!d.size})},p(),t&&!s&&a.createElement("div",{className:B()("rods-dropdown-button__dropdown",{"rods-dropdown-button__dropdown--align-right":"right"===c}),style:f},r))}ye.propTypes={isOpen:se().bool.isRequired,toggle:se().func.isRequired,label:se().node,icon:se().element,disabled:se().bool,children:se().node.isRequired,className:se().string,align:se().oneOf(["left","right"]),width:se().string},ye.defaultProps={className:null,disabled:!1,label:null,icon:null,align:"left",width:null},ye.Form=ue,ye.Menu=fe;var ge=ye,Ee=n(76294),he=n(67284);const Ce={png:Ee.$E,jpeg:Ee.gO,svg:Ee.YI},Ne={png:"png",jpeg:"jpeg",svg:"svg"},_e=navigator?.userAgent||"unknown",be=_e.toLowerCase().includes("chrome"),ve=_e.toLowerCase().includes("chromium"),Ae=_e.toLowerCase().includes("safari");var ke=n(60546),Oe=n(76997);const Te=(e,t)=>`${e}/api/explore/v2.1/${t.toString()}`,we=(e,t,n)=>{const a=e.getSearchParams(),r=(e=>e.get("group_by")&&e.get("order_by")?e.get("limit")&&Number(e.get("limit"))<=2e4?Number(e.get("limit")):2e4:e.get("limit")?Number(e.get("limit")):null)(a);return(0,Oe.ZF)(t,n).select(a.get("select")).groupBy(a.get("group_by")).where(a.get("where")).offset(a.get("offset")?Number(a.get("offset")):null).orderBy(a.get("order_by")).limit(r)};function Re(e){let{blockQuery:t,block:n,datasetId:a,baseUrl:r,format:l}=e;switch(n?.type){case h._.Map:{const{configuration:{mapType:e,parameters:o}}=n;if(e===C.BH.Poi){const{layers:{mapLayer_001:{popup:{contextFields:e,titleField:n,imageField:s}}}}=o,i=[];e?.forEach(((e,t)=>i.push(`${e.field} as tooltipContent${t+1}`))),n&&i?.push(`${n} as tooltipTitle`),s&&i?.push(`${s} as tooltipImage`);const c=t.getSearchParams(),u=(0,Oe.ZF)(a,l).select(`${c.get("select")}, ${(0,ke.p_)(...i)}`).where(c.get("where"));return Te(r,u)}return Te(r,we(t,a,l))}case h._.Kpi:case h._.Chart:case h._.Table:{const e=we(t,a,l);return Te(r,e)}default:return Te(r,t)}}var Pe=function(e){let{odsql:t,block:n,datasetId:r,targetRef:l,fileName:o="file",classNamesToFilter:s,onClick:i}=e;const c=(e=>{let{targetRef:t,fileType:n="png",fileName:r="file",classNamesToFilter:l,onClick:o}=e;const s=(0,a.useCallback)((async()=>{o?.();const e=(e=>t=>!e?.some((e=>t.classList?.contains(e))))(l),a={cacheBust:!0,pixelRatio:5,skipFonts:!0,filter:e},s=Ce[n];if(t.current){const e=`${((e,t)=>`${e} ${(0,he.default)(new Date,"dd/MM/yyyy - HH:mm:ss")}.${Ne[t]}`)(r,n)}`;!Ae||be||ve||(await s(t.current,a),await s(t.current,a),await s(t.current,a)),((e,t)=>{const n=document.createElement("a");n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)})(await s(t.current,a),e)}}),[l,r,n,o,t]);return s})({targetRef:l,fileType:"png",fileName:o,classNamesToFilter:s,onClick:i}),u=!(!n||!t),d=n?.type===h._.Map&&"poi"===n.configuration.mapType,m=(0,a.useMemo)((()=>u?d?t.map((e=>Re({blockQuery:e,block:n,datasetId:r,baseUrl:window.location.origin,format:"json"}))):t.map((e=>Te(window.location.origin,e))):null),[u,d,t,n,r]),p=(0,a.useMemo)((()=>u?t.map((e=>Re({blockQuery:e,block:n,datasetId:r,baseUrl:window.location.origin,format:"csv"}))):null),[u,t,n,r]);return{handlePngDownload:c,handleCsvDownload:(0,a.useCallback)((()=>{u&&p&&p.forEach((e=>{const t=document.createElement("a");t.href=e,document.body.appendChild(t),t.click(),document.body.removeChild(t)}))}),[u,p]),blockDataUrls:m}},qe=n(88508);function Fe(e){let{targetRef:t,fileName:n,classNamesToFilter:r,onClick:l}=e;const{i18n:o}=(0,a.useContext)(u.gJ),{state:{odsqlFromPage:s,page:i,datasetId:c}}=q(),[d,m]=(0,b.A)(!1),[p,f]=(0,a.useState)(!1),{trackExport:y}=S(),g=i?.blocks.block_llm,{handlePngDownload:E,handleCsvDownload:C,blockDataUrls:N}=Pe({odsql:s,block:g,datasetId:c,targetRef:t,fileName:n,classNamesToFilter:r,onClick:l}),_=(0,a.useCallback)((()=>{E(),y({type:"png"})}),[E,y]),v=(0,a.useCallback)((e=>{(0,qe.l)(e),y({type:"copy"}),f(!0)}),[y]),A=(0,a.useCallback)((()=>{C(),y({type:"csv"})}),[C,y]);return a.createElement(ge,{className:"LxmIXl5ZY6CsEGhZ52pd",icon:d?a.createElement(k.b3d,null):a.createElement(k.gQ,null),iconSide:"right",label:o.translate("Export data"),width:"auto",isOpen:d,toggle:m,disabled:!s,align:"right",variant:"secondary"},a.createElement(ge.Menu,null,a.createElement(ge.Menu.Item,{onClick:_},o.translate("Export in PNG")),N&&a.createElement(a.Fragment,null,g?.type!==h._.Kpi&&a.createElement(ge.Menu.Item,{onClick:A},o.translate("Export in CSV")),N.map(((e,t)=>a.createElement(ge.Menu.Item,{key:e,onClick:()=>v(e),onMouseLeave:()=>f(!1),tooltip:p?o.translate("Link Copied!"):o.translate("Copy Link")},o.translateN("Link to Explore API query","Link to Explore API query {count}",t+1)))))))}var Ie=function(){const{state:{page:e,error:t,errorsFromPage:n,isLoading:r,query:l},actions:{setOdsqlFromPage:o,setErrorsFromPage:s}}=q(),i=e?.blocks?.block_llm,c=i?.type,u="map"===c||"chart"===c,d=!!t?.message,m=(0,a.useRef)(null),f=(0,a.useMemo)((()=>u?i?.configuration?.styles?.title||c:"kpi"===c&&i?.configuration?.styles?.context||c),[i,u,c]),y=(0,a.useMemo)((()=>"map"===e?.blocks?.block_llm?.type?["maplibregl-control-container"]:null),[e?.blocks?.block_llm?.type]),g=(0,a.useCallback)(((e,t,n)=>{t&&o(t),n&&s(n)}),[s,o]);return r?a.createElement("div",{className:"a4J0FZahvH6DUVJp0zXQ"},a.createElement(k.Itq,{className:"ee8Sz0eLe_lDKTf9U2WC"}),a.createElement("br",null),a.createElement("i",null,a.createElement(p.A,{translationKey:"Analyzing the content to answer your question and creating a data visualization..."}))):!r&&d?"quota_reached"===t?.type?a.createElement("div",{className:re},a.createElement("div",{className:le},t.title),t.message):a.createElement(V.Ay,{initialOpen:!0,variant:"critical",className:re},a.createElement(V.Ay.Header,null,a.createElement("div",{className:le},t?.title?a.createElement(p.A,{translationKey:"{0}",values:{0:t.title}}):a.createElement(p.A,{translationKey:"The server encountered an error while processing your request"})),t?.message)):!r&&n?a.createElement(V.Ay,{initialOpen:!0,variant:"critical",className:re},a.createElement(V.Ay.Header,null,a.createElement("div",{className:le},t?.title?a.createElement(p.A,{translationKey:"{0}",values:{0:t.title}}):a.createElement(p.A,{translationKey:"The server encountered an error while processing your request"})),Array.isArray(n)?a.createElement("ul",null,n.map((e=>a.createElement("li",{key:e},e)))):a.createElement("p",null,n))):r||d||e?a.createElement("div",{className:"Fy9rMsRKcY3UVzvtxOzN"},!!e&&a.createElement("div",{className:"TUxcScZXYLB6xfVbO1S9"},a.createElement("div",{className:"juQTLE8h_61YZhKrKVEK"},a.createElement(Fe,{targetRef:m,fileName:f,classNamesToFilter:y})),a.createElement("div",{ref:m,className:u?"PhuzoIQfVms9E8wnECWC":"pkGFPLweezATopbyKzih"},a.createElement(D.A,{blocks:e.blocks,filters:e.filters,layout:e.layouts.default,onBlockRender:g,dataProviders:e.dataProviders,className:"sff9saWxagyErCKXWDqE",options:{hideSourceLink:!0,enableImageExport:!0}}))),a.createElement(ae,{key:l})):a.createElement("div",{className:re},a.createElement("div",{className:le},a.createElement(p.A,{translationKey:"We are sorry, but we are unable to answer this question"})),a.createElement(p.A,{translationKey:"Could you please provide <0>more information</0> or <1>clarify</1> what you are asking for?<2/>This may indicate that the dataset does not contain this information.",components:[a.createElement("b",null,"more information"),a.createElement("b",null,"clarify"),a.createElement("br",null)]}))},Se={fontSizeBase:"16px",identity100:"#00c7b1",identity200:"#142e7b",identity201:"#f2f3f8",identity203:"#c6cbde",identity204:"#6c7aaa",identity300:"#0f79d0",light100:"#fff",light200:"#f6f8fb",light300:"#dee5ef",light400:"#cbd2db",light500:"#898d92",light600:"#565656",light700:"#000",extra710:"#94153c",colorCritical:"#ce0037",borderRadius4:"4px",spacing50:"6px",spacing100:"13px",breakpointXL:"1200px",modalHeader:"KtWaxQZ6FdpeU9VCczZi",chipBeta:"ONVvoQBd7IkOyY40AHQL",modalContainer:"N3zjDXzSPnbbKs05bH7Y"};function Le(e){let{onClose:t}=e;const{state:{datasetId:n,isFirstSearch:r,query:l},actions:{startQuery:o,setOdsqlAndConditions:f,setLoading:g,setPage:N,setError:_}}=q(),{i18n:b}=(0,a.useContext)(u.gJ),v=(0,c.D)(),A=(0,i.N)(),k=(0,a.useRef)(new AbortController),O=(0,a.useCallback)((e=>{e&&(k.current.abort(),k.current=new AbortController,o(e),(0,s.kr)(v,{datasetId:n,userQuery:e},k.current.signal).then((e=>{const{visualizationProperties:t,baseStudioPage:n}=e,{odsql_query:a=null,conditions:r=null}=t;f(a,r);const l=function(e,t){if(!e)return null;const n=E()(e),a=n.blocks.block_llm,{odsql_query:r,conditions:l,order_direction:o}=t||{},{limit:s}=r||{};switch(a?.type){case h._.Map:y()(a,"configuration.parameters.layers.mapLayer_001.query.conditions",l);break;case h._.Kpi:y()(a,"configuration.parameters.query.conditions",l);break;case h._.Chart:{const{configuration:{seriesUIDs:e}}=a;e?.forEach((e=>{y()(a,`configuration.parameters.query.series.${e}.conditions`,l)})),s&&y()(a,"configuration.parameters.query.limit",s),a.type===h._.Chart&&o&&y()(a,"configuration.parameters.query.order",{by:a.configuration.chartType===C.XD.Comparison.Columns?"series_llm1":"x",direction:o});break}}return n}(n,t);l&&N(l),g(!1)})).catch((e=>{500===e?.response?.status||"Internal error"===e?.response?.error?_({message:b.translate("Internal error.")}):429===e?.response?.status?10007===e.response.data.errorcode?_({title:b.translate("It was your last credit to use “Generate insights using AI”."),message:b.translate("Please contact your portal administrator for more information."),type:"quota_reached"}):_({message:b.translate("You made too many requests lately, retry a bit later")}):e?.response?.data?.message?_({message:e.response.data.message}):"canceled"!==e?.message&&(_({message:b.translate("Unexpected server error.")}),console.error("err",e)),"canceled"!==e?.message&&g(!1)})))}),[v,n,b,_,g,f,N,o]);return a.createElement(d.Ay,{className:"rods-visualization-generator__modal",isOpen:!0,closeButton:!0,onRequestClose:t,shouldCloseOnOverlayClick:!1,style:{content:A}},a.createElement(d.rQ,{className:Se.modalHeader},a.createElement(p.A,{translationKey:"Generate insights using AI"}),a.createElement(m.Q,{className:Se.chipBeta,variant:"beta"})),a.createElement(d.cw,{className:Se.modalBody},a.createElement("div",{className:Se.modalContainer},a.createElement(z,{runQuery:O}),!r&&a.createElement(Ie,null))),a.createElement(Q,{key:l}))}var $e=n(94050),xe=n(77981),Me=function(e){let{onClick:t,isLimitReached:n}=e;const{i18n:r}=(0,a.useContext)(u.gJ),{currentUser:l}=(0,xe.d4)((e=>e.entities)),o=(0,a.useMemo)((()=>!l?.isSuperadmin&&!!(!l||l&&!l.isRegisteredOnDomain||l?.isRegisteredOnDomain&&n)),[l,n]),s=(0,a.useMemo)((()=>l?.isSuperadmin?null:l?l&&!l.isRegisteredOnDomain?r.translate("You are not registered on this portal, please sign up to use the feature"):l?.isRegisteredOnDomain&&n?r.translate("Monthly quota reached"):null:r.translate("Please sign up to use this feature")),[r,l,n]);return a.createElement(i.A,null,a.createElement(A.SC,{type:"button",onClick:t,className:"fIvQmckDZ7HGXEqMBk9P",disabled:o,tooltip:s,"aria-label":r.translate("Generate visualization using AI")},a.createElement($e.A,{className:"pS5OE0YVXnojMtpGxk2q",svg:'<svg width="16" height="17" viewBox="0 0 16 17" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n    <path d="M5.68783 4.5C8.45952 4.5 10.709 6.74948 10.709 9.52117C10.709 12.2929 8.45952 14.5423 5.68783 14.5423C2.91615 14.5423 0.666667 12.2929 0.666667 9.52117C0.666667 6.74948 2.91615 4.5 5.68783 4.5ZM5.68783 13.4265C7.84526 13.4265 9.59319 11.6786 9.59319 9.52117C9.59319 7.36318 7.84526 5.61582 5.68783 5.61582C3.52985 5.61582 1.78248 7.36318 1.78248 9.52117C1.78248 11.6786 3.52985 13.4265 5.68783 13.4265ZM10.4217 13.4661L12 15.0439L11.2106 15.8333L9.6328 14.255L10.4217 13.4661Z" fill="currentColor"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.4217 13.2305L12.2357 15.0439L11.2105 16.0691L9.39712 14.255L10.4217 13.2305ZM5.68783 4.33333C8.55157 4.33333 10.8757 6.65744 10.8757 9.52117C10.8757 12.3849 8.55157 14.709 5.68783 14.709C2.8241 14.709 0.5 12.3849 0.5 9.52117C0.5 6.65744 2.8241 4.33333 5.68783 4.33333ZM5.68783 13.2599C7.75322 13.2599 9.42652 11.5865 9.42652 9.52117C9.42652 7.45524 7.75323 5.78248 5.68783 5.78248C3.6219 5.78248 1.94915 7.45523 1.94915 9.52117C1.94915 11.5866 3.62191 13.2599 5.68783 13.2599ZM9.6328 14.255L10.4217 13.4661L12 15.0439L11.2106 15.8333L9.6328 14.255ZM10.709 9.52117C10.709 6.74948 8.45952 4.5 5.68783 4.5C2.91615 4.5 0.666667 6.74948 0.666667 9.52117C0.666667 12.2929 2.91615 14.5423 5.68783 14.5423C8.45952 14.5423 10.709 12.2929 10.709 9.52117ZM9.59319 9.52117C9.59319 11.6786 7.84526 13.4265 5.68783 13.4265C3.52985 13.4265 1.78248 11.6786 1.78248 9.52117C1.78248 7.36318 3.52985 5.61582 5.68783 5.61582C7.84526 5.61582 9.59319 7.36318 9.59319 9.52117Z" fill="currentColor"/>\n    <path d="M10 3.33333C11.1966 3.33333 12.1667 2.36329 12.1667 1.16667H13.1667C13.1667 2.36329 14.1367 3.33333 15.3333 3.33333V4.33333C14.1367 4.33333 13.1667 5.30338 13.1667 6.5H12.1667C12.1667 5.30338 11.1966 4.33333 10 4.33333V3.33333Z" fill="currentColor"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.83333 3.16667H10C11.1046 3.16667 12 2.27124 12 1.16667V1H13.3333V1.16667C13.3333 2.27124 14.2288 3.16667 15.3333 3.16667H15.5V4.5H15.3333C14.2288 4.5 13.3333 5.39543 13.3333 6.5V6.66667H12V6.5C12 5.39543 11.1046 4.5 10 4.5H9.83333V3.16667ZM10 3.33333C11.1966 3.33333 12.1667 2.36329 12.1667 1.16667H13.1667C13.1667 2.36329 14.1367 3.33333 15.3333 3.33333V4.33333C14.1367 4.33333 13.1667 5.30338 13.1667 6.5H12.1667C12.1667 5.30338 11.1966 4.33333 10 4.33333V3.33333Z" fill="currentColor"/>\n</svg>\n'}),a.createElement(p.A,{translationKey:"Explore data with AI"})))},Qe=function(e){let{datasetId:t,onClose:n}=e;return a.createElement(P,{datasetId:t},a.createElement(I,null,a.createElement(Le,{onClose:n})))},Ue=n(65501);window.setupVisualizationGenerator=(e,t,n)=>{let{i18n:s,config:i,domain:c,datasetId:u,currentUser:d,isLimitReached:m}=n;const p=window.document.createElement("div");p.id="ods-visualization-generator-container",e.append(p);const f=()=>{r.unmountComponentAtNode(p),window.isVisualizationGeneratorOpened=!1};((e,t)=>{let{i18n:n,config:l,domain:o,onClick:s,currentUser:i,isLimitReached:c}=t;const u={config:l,domain:o,currentUser:i};r.render(a.createElement(Ue.A,{i18nConfig:n,initialStoreEntities:u},a.createElement(Me,{onClick:s,isLimitReached:c})),e)})(t,{i18n:s,config:i,domain:c,currentUser:d,isLimitReached:m,onClick:()=>{((e,t)=>{let{i18n:n,config:s,domain:i,datasetId:c,onClose:u,isLimitReached:d}=t;const m={config:s,domain:i};r.render(a.createElement(Ue.A,{i18nConfig:n,swrConfig:{revalidateOnFocus:!1},initialStoreEntities:m},a.createElement(l.Q.Provider,{value:{applicationName:"visualization-generator"}},a.createElement(o.A,null),a.createElement(Qe,{datasetId:c,onClose:u,isLimitReached:d}))),e)})(p,{i18n:s,config:i,domain:c,datasetId:u,onClose:f}),window.isVisualizationGeneratorOpened=!0}})}},50335:function(e,t,n){n.d(t,{A:function(){return o}});var a=n(11397),r=n(77981),l=n(41481);function o(e,t){const n=(0,r.wA)();return(0,l.useMemo)((()=>Array.isArray(e)?e.map((e=>(0,a.zH)(e,n))):(0,a.zH)(e,n)),t?[n,...t]:[n])}},88508:function(e,t,n){function a(e){navigator.clipboard.writeText(e).catch((e=>{console.error(e)}))}n.d(t,{l:function(){return a}})}},function(e){e.O(0,[2893,2441,4691,7419,5203,6556,8113,8399,6395,4108,6721,5482,2313,6961,2175,9865],(function(){return 79653,e(e.s=79653)})),e.O()}]);